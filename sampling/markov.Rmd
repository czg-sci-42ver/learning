---
title: "test"
author: 
    - Rahul Bhadani^[The University of Arizona, rahulbhadani@email.arizona.edu]
date: "`r format(Sys.time(), '%d %B %Y')`"

output:
#   pdf_document:
#     citation_package: natbib
#     # keep_tex: yes
#     number_sections: yes
  
#   html_notebook: default
    
    # html_fragment

  html_document:
    # df_print: kable

    df_print: !expr pander::pander 
    code_folding: hide
    mathjax: "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js"
    self_contained: false
    keep_md: true
    
    pandoc_args: [
      "--title-prefix", "Foo",
      "--id-prefix", "Bar"
    ]

    md_extensions: -autolink_bare_uris+hard_line_breaks

    # includes:
    #   in_header: header.html
    #   before_body: doc_prefix.html
    #   after_body: doc_suffix.html
    
    ############### may output repeated cache file
    # lib_dir: libs
    
    
    ################# may not render data frame
    # df_print: paged 

    toc: true
    toc_float:
      collapsed: false
      smooth_scroll: true
    number_sections: true
    theme: united
    highlight: tango
    css: styles.css
    fig_width: 4
    fig_height: 6
    fig_caption: true

# classoption:
# - onecolumn
# header-includes:
abstract: This is my abstract
---

## Next Steps {#nextsteps .emphasized}
#nextsteps {
   color: blue;
}

.emphasized {
   font-size: 1.2em;
}

## Quarterly Results {.tabset}

### By Product

(tab content)

### By Region

(tab content)

## Quarterly Results {.tabset .tabset-fade .tabset-pills}

### By Product

(tab content)

### By Region

(tab content)

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and Microsoft Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you select the **R Tools | Publish | Preview** button, a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
summary(cars)
```

```{r}
mtcars
```

```{r cols.print=3, rows.print=3}
mtcars
```

You can also embed plots, for example:

```{r, echo=FALSE}
plot(cars)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.


> no use `setup` in `{r setup, include=FALSE}`
```{r, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r, echo=T,eval=T,warning=FALSE, fig.height = 4, fig.width = 5}

library("nloptr")
hn <- function(x, n) {
    hret <- 0
    if (n == 0) {
        hret <- x + 2 * x
    } else {
        hret <- x - 2 * x
    }
    return(hret)
}
```

```{bash, engine.opts='-l'}
source ~/.bashrc


pwd
ls
export http_proxy=127.0.0.1:1081
export https_proxy=127.0.0.1:1081
```

{python, engine.path =  "/home/username/anaconda3/envs/virtualenv/bin/python", fig.height = 3, fig.width = 6}
```{python, engine.path =  "~/venv/bin/python", fig.height = 3, fig.width = 6}





```


```{r}























```

```{r}

library(reticulate)

use_python("~/venv/bin/python", 
           required = T) # Locate and run Python
```



[tutorial](https://www.stat.berkeley.edu/~mgoldman/Section0220.pdf)
[also](https://cran.r-project.org/doc/manuals/r-release/R-intro.html#Using-R-interactively)

```{r}

```
```{r}
a <- solve(matrix(c(-.4, .1, .2, .1, -.3, .2, 1, 1, 1), nrow = 3, byrow = T), c(0, 0, 1))



```
----

```{r}
x <- matrix(c(.6, .1, .3, .1, .7, .2, .2, .2, .6), nrow = 3, byrow = T)
y <- x
for (i in 1:25) {
      y <- y %*% x
  }
```


```{r}
twosam <- function(y1, y2) {
    n1 <- length(y1)
    n2 <- length(y2)
    yb1 <- mean(y1)
    yb2 <- mean(y2)
    s1 <- var(y1)
    s2 <- var(y2)
    s <- ((n1 - 1) * s1 + (n2 - 1) * s2) / (n1 + n2 - 2)
    tst <- (yb1 - yb2) / sqrt(s * (1 / n1 + 1 / n2))
    tst
}

group1 <- rnorm(100)
group2 <- rnorm(100, mean = .1)

test <- twosam(group1, group2)
test2 <- t.test(group1, group2)






```


```{python}
print("Hello Python!")
```

```{r, setup}
library(reticulate)
```

Create a variable `x` in the Python session:

```{python}
x = [1, 2, 3]
```

Access the Python variable `x` in an R code chunk:

```{r}
py$x
```

Create a new variable `y` in the Python session using R,
and pass a data frame to `y`:

```{r}
py$y <- head(cars)
```

Print the variable `y` in Python:

```{python}
print(y)
```
use_virtualenv("myenv")


```{r}
library(reticulate)
os <- import("os")
os$listdir(".")
```

```{r}
library(reticulate)

```

